<html>
  <head>
    <title>Decoder</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="keywords" content="decoder, cipher, code" />
    <meta
      name="description"
      content="Page to decipher codes and interpret messages, with buttons linked to the other webpages."
    />
    <meta name="author" content="Sophia Buyco, Mikaela Cruz" />
    <meta name="revised" content="12/23/2024" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://cdn.glitch.global/9ba5d5f1-5de6-4c7e-9b90-9216504f9784/logo.png?v=1734960726321"
    />
    
    <script>
      //Beta only includes Encode Caesar Function for now
      function CaesarDecode() {
        //Get the values of the input and the shift key
        var text = document.getElementById("decodeinput").value + "";
        var key = document.getElementById("decodekeyinput").value;
        //testing if it works
        console.log(text);
        console.log(key);
        //Shift key can go negative. This is to make sure it is equal to the normal positive shift key
          key = 26 - key;
        console.log(key);
        //splitting the characters into an array
        const arr = text.split("");
        console.log(arr);
        //defining the alphabet that the input array will be compared to
        var loweralphabet = [
          "a",
          "b",
          "c",
          "d",
          "e",
          "f",
          "g",
          "h",
          "i",
          "j",
          "k",
          "l",
          "m",
          "n",
          "o",
          "p",
          "q",
          "r",
          "s",
          "t",
          "u",
          "v",
          "w",
          "x",
          "y",
          "z",
        ];
        var upperalphabet = [
          "A",
          "B",
          "C",
          "D",
          "E",
          "F",
          "G",
          "H",
          "I",
          "J",
          "K",
          "L",
          "M",
          "N",
          "O",
          "P",
          "Q",
          "R",
          "S",
          "T",
          "U",
          "V",
          "W",
          "X",
          "Y",
          "Z",
        ];
        
        //bool variable to check if the character is a letter or special character
        var check = false;
        //The variable to be outputted
        var strtext = "";

        for (var i = 0; i < arr.length; i++) {
          //reset the check variable back to false
          check = false;
          //checks if the array character is an uppercase letter, and if it is, substitutes another letter by adding the shift key.
          for (var j = 0; j < upperalphabet.length; j = j + 1) {
            if (arr[i] == upperalphabet[j]) {
              //modulo by 26 so that if j + key is more than the alphabet array length, then it will go back to index zero.
              strtext = strtext + upperalphabet[(j + key) % 26];
              //if it is equal to the uppercase letter, check will be true
              check = true;
            }
          }
          //if character has not been identified as an uppercase letter, then it will start to browse through the lowercase letters, following the same tactic.
          if (check == false) {
            for (var j = 0; j < loweralphabet.length; j = j + 1) {
              if (arr[i] == loweralphabet[j]) {
                strtext = strtext + loweralphabet[(j + key) % 26];
                check = true;
              }
            }
          }
          //if it is still not identified as either lowercase or uppercase letter, then it is deemed a special character or a space, and is added into the string as itself.
          if (check == false) {
            strtext = strtext + arr[i];
          }
        }
        //outputs the string
        console.log(strtext);
        document.getElementById("decodeoutput").innerHTML = strtext;
      }
    </script>
  </head>
  <body>
    <div class="logo">
      <header><h1 align="left">Ciphermania - Decoder</h1></header>
      <img
        src="https://cdn.glitch.global/9ba5d5f1-5de6-4c7e-9b90-9216504f9784/logo.png?v=1734960726321"
        alt="website logo"
        align="right"
        id="logo"
      />
    </div>
    <div class="decoder">
      <section class="codeselect">
        <!--buttons to select type of cipher, which determines the javascript
        solution needed to encrypt the message-->
        <!--none are currently available. javascript is implemented in encoder-->
        <button
          onclick="CaesarDecode()"
          name="cipher"
          type="text"
          value="caesar"
          class="button"
        >
          Caesar
        </button>
        <button
          name="cipher"
          type="text"
          value="morse"
          class="button"
        >
          Morse
        </button>
        <button
          name="cipher"
          type="text"
          value="keyword"
          class="button"
        >
          Keyword
        </button>
        <button
          name="cipher"
          type="text"
          value="vigenere"
          class="button"
        >
          Vigenere
        </button>
        <button
          name="cipher"
          type="text"
          value="integer"
          class="button"
        >
          A1Z26
        </button>
        <button
          name="cipher"
          type="text"
          value="railfence"
          class="button"
        >
          Rail Fence
        </button>
        <button
          name="cipher"
          type="text"
          value="affine"
          class="button"
        >
          Affine
        </button>
        <button
          name="cipher"
          type="text"
          value="bacon"
          class="button"
        >
          Bacon
        </button>
        <button
          name="cipher"
          type="text"
          value="sms"
          class="button"
        >
          Multitap Phone SMS
        </button>
      </section>
      <article class="inputOutput">
        <!--explanations of encoding's purpose, process, and function, as well
        as how to use the webpage's encoder tool-->
        <p class="marginfix">
          Decoding is the process of interpreting the encrypted message using an
          understanding/key of the cipher used. This essential step is done by
          the recipient, who can now privately translate the message for their
          understanding, finishing the process of privately communicating a
          message.
        </p>
        <p class="marginfix">
          Use the decoder below by first selecting the type of cipher, then
          inputting the message you want to decrypt in the first input field.
          Then, based on the type of cipher, input any correct key that is
          required to encode your message. For example, if you are using the
          Caesar Cipher, type the Caesar shift (defined in the library) into the
          second input field.
        </p>
        <!--current simple js implementation draft is in the encoder-->
        <label class="marginfix">
          Select cipher then type code here:<input
            type="text"
            id="decodeinput"
          />
        </label>
        <br />
        <label class="marginfix">
          Input necessary key: <input type="text" id="decodekeyinput" />
        </label>
        <br />
        <h2 class="marginfix">Output</h2>
        <p class="marginfix" id="decodeoutput"></p>
      </article>
      <article id="Settings">
        <!--quick navigation links to all other webpages-->
        <section class="Setting">
          <a class="homeNav" href="index.html"
            ><img
              src="https://cdn.glitch.global/9ba5d5f1-5de6-4c7e-9b90-9216504f9784/home.png?v=1734891003623"
              alt="home"
              width="80"
              height="80"
              class="center"
          /></a>
          <figcaption>Home</figcaption>
        </section>
        <section class="Setting">
          <a class="encoderNav" href="encoder.html"
            ><img
              src="https://cdn.glitch.global/9ba5d5f1-5de6-4c7e-9b90-9216504f9784/secured-lock.png?v=1734890993732"
              alt="encoder"
              width="80"
              height="80"
              class="center"
          /></a>
          <figcaption>Encoder</figcaption>
        </section>
        <section class="Setting">
          <a class="libraryNav" href="library.html"
            ><img
              src="https://cdn.glitch.global/9ba5d5f1-5de6-4c7e-9b90-9216504f9784/library.png?v=1734890999960"
              alt="library"
              width="80"
              height="80"
              class="center"
          /></a>
          <figcaption>Library</figcaption>
        </section>
      </article>
    </div>
    <div class="clear"><!--for css purposes, to ensure the footer doesn't cover the content--></div>
    <footer>
      <p id="footer">
        Copyright &copy; 2024 WDProjCesiumBuycoCruz
        <br />
        References:
        <br />
        Base64 - MDN Web Docs Glossary: Definitions of Web-related terms | MDN.
        (2024, November 4). MDN Web Docs.
        https://developer.mozilla.org/en-US/docs/Glossary/Base64#
        <br />
        dCode. (n.d.). Phone keypad cipher.
        https://www.dcode.fr/phone-keypad-cipher
        <br />
        Life, S. (2024, July 11). Learn Morse code with this Morse translator
        and decoder. Scout Life Magazine.
        https://scoutlife.org/hobbies-projects/funstuff/575/morse-code-translator/
        <br />
        Saha, A. (2023, August 24). Understanding the vigen√®re cipher. DEV
        Community.
        https://dev.to/cognivibes/understanding-the-vigenere-cipher-16g5
        <br />
        Rembert, L. (2021, August 11). Baconian Cipher. Privacy Canada.
        https://privacycanada.net/baconian-cipher/
        <br />
        Freepik. (n.d.-a). Home free icon. Flaticon.
        https://www.flaticon.com/free-icon/home_1946436
        <br />
        Freepik. (n.d.-b). Secured Lock free icon. Flaticon.
        https://www.flaticon.com/free-icon/secured-lock_17354
        <br />
        Gandy, D. (n.d.). Padlock Unlock free icon. Flaticon.
        https://www.flaticon.com/free-icon/padlock-unlock_25215
        <br />
        GeeksforGeeks. (2023, March 7). Implementation of Affine Cipher.
        GeeksforGeeks.
        https://www.geeksforgeeks.org/implementation-affine-cipher/
        <br />
        inkubators. (n.d.). Library free icon. Flaticon.
        https://www.flaticon.com/free-icon/library_2908601
        <br />
        Vectorslab. (n.d.). Access free icon. Flaticon.
        https://www.flaticon.com/free-icon/access_9657821
      </p>
    </footer>
  </body>
</html>
